FROM python:3.10.4 as base

WORKDIR /usr/src/app/web/
COPY . /usr/src/app/web/
RUN pip install fastapi uvicorn
ENV PORT=${PORT}
ENTRYPOINT  ["uvicorn", "--host", "0.0.0.0", "main:app"]

FROM base as dev

RUN pip install mypy 
CMD  ["--reload"]
